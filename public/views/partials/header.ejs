<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title><%= title %></title>
		<link rel="stylesheet" href="../../../../stylesheets/style.css" />
		<link rel="stylesheet" href="../../../../stylesheets/header.css" />
		<link rel="stylesheet" href="../../../../stylesheets/footer.css" />

		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.3/socket.io.js"></script>
		<script>
			window.socket = io();
			window.socket.emit('pageChange', window.location.pathname);
		
			window.socket.on('newMessageNotification', (data) => {
				const badge = document.getElementById('unreadMessagesBadge');
				const unreadMessages = Number(badge.textContent) + 1;
				badge.textContent = unreadMessages;
			
				badge.style.display = unreadMessages > 0 ? 'inline-block' : 'none';
			});
		</script>
		
	</head>
	<body class="bg-gray-100">